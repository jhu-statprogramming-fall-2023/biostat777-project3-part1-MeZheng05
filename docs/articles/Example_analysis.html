<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="corrplot">
<title>Example_analysis • corrplot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Example_analysis">
<meta property="og:description" content="corrplot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">corrplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.93</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/corrplot-intro.html">An Introduction to corrplot Package</a>
    <a class="dropdown-item" href="../articles/Example_analysis.html">Example_analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../articles/An%20Introduction%20to%20corrplot%20Package.html">
    <span class="fa fa-question-circle-o"></span>
     
    Introduction
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/taiyun/corrplot">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Example_analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/taiyun/corrplot/blob/HEAD/vignettes/Example_analysis.Rmd" class="external-link"><code>vignettes/Example_analysis.Rmd</code></a></small>
      <div class="d-none name"><code>Example_analysis.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/taiyun/corrplot" class="external-link">corrplot</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; corrplot 0.92 loaded</span></span></code></pre></div>
<div class="section level2">
<h2 id="question">Question<a class="anchor" aria-label="anchor" href="#question"></a>
</h2>
<p>In this centenarians dataset, which includes men and women who
lives/lived longer than 100 years from countries all over the world, my
primary objective is to investigate potential discrepancies in life
expectancy based on factors such as gender, nationality, and birth
time.</p>
</div>
<div class="section level2">
<h2 id="original-data">Original data<a class="anchor" aria-label="anchor" href="#original-data"></a>
</h2>
<p>The data being used here is from TidyTuesday. It contains 200 known
verified oldest people around the world.</p>
<p>Please click on this <a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-05-30/centenarians.csv" class="external-link">link</a>
here if we want to go to the source of the csv data file.</p>
<p>The original source of this data comes from the Wikipedia List of the
verified oldest people via frankiethull on GitHub, you can read more
about the information of this dataset from the <a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-05-30/readme.md" class="external-link">readme</a>
here.</p>
</div>
<div class="section level2">
<h2 id="data-dictionary">Data Dictionary<a class="anchor" aria-label="anchor" href="#data-dictionary"></a>
</h2>
<table class="table">
<colgroup>
<col width="30%">
<col width="25%">
<col width="44%">
</colgroup>
<thead><tr class="header">
<th>variable</th>
<th>class</th>
<th>description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>rank</td>
<td>integer</td>
<td>This person’s overall rank by age.</td>
</tr>
<tr class="even">
<td>name</td>
<td>character</td>
<td>The full name of this person.</td>
</tr>
<tr class="odd">
<td>birth_date</td>
<td>date</td>
<td>This person’s birth date.</td>
</tr>
<tr class="even">
<td>death_date</td>
<td>date</td>
<td>This person’s death date (or NA if still alive).</td>
</tr>
<tr class="odd">
<td>age</td>
<td>double</td>
<td>The person’s age, either on the day of their death or on the day
when the dataset was extracted on 2023-05-25.</td>
</tr>
<tr class="even">
<td>place_of_death_or_residence</td>
<td>character</td>
<td>Where the person lives now or where they were when they died.</td>
</tr>
<tr class="odd">
<td>gender</td>
<td>character</td>
<td>Most likely actually the sex assigned to the person at birth (the
source article does not specify).</td>
</tr>
<tr class="even">
<td>still_alive</td>
<td>character</td>
<td>Either “alive” if the person was still alive at the time when the
article as referenced, or “deceased” if the person was no longer
alive.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="load-the-data">Load the data<a class="anchor" aria-label="anchor" href="#load-the-data"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/" class="external-link">here</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; here() starts at C:/Users/zheng/Desktop/StatisticalPrograming/corrplot</span></span>
<span><span class="co">#In this step, you must test if a directory named data exists locally. If it does not, write an R function that creates it programmatically. </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.4</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.0</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.4.3     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.0</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.2</span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># saves data only once (not each time you knit a R Markdown)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"centenarians.rda"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="va">tuesdata</span> <span class="op">&lt;-</span> <span class="fu">tidytuesdayR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidytuesdayR/man/tt_load.html" class="external-link">tt_load</a></span><span class="op">(</span><span class="st">"2023-05-30"</span><span class="op">)</span></span>
<span>     <span class="va">centenarians</span> <span class="op">&lt;-</span> <span class="va">tuesdata</span><span class="op">$</span><span class="va">centenarians</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span><span class="va">centenarians</span>, file <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"centenarians.rda"</span><span class="op">)</span><span class="op">)</span></span>
<span> <span class="op">}</span></span>
<span></span>
<span><span class="co">#Read in the data locally each time you knit/render.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"centenarians.rda"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">centenarians</span><span class="op">)</span></span>
<span><span class="co">#&gt; spc_tbl_ [200 × 8] (S3: spec_tbl_df/tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ rank                       : num [1:200] 1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ name                       : chr [1:200] "Jeanne Calment" "Kane Tanaka" "Sarah Knauss" "Lucile Randon" ...</span></span>
<span><span class="co">#&gt;  $ birth_date                 : Date[1:200], format: "1875-02-21" "1903-01-02" ...</span></span>
<span><span class="co">#&gt;  $ death_date                 : Date[1:200], format: "1997-08-04" "2022-04-19" ...</span></span>
<span><span class="co">#&gt;  $ age                        : num [1:200] 122 119 119 119 118 ...</span></span>
<span><span class="co">#&gt;  $ place_of_death_or_residence: chr [1:200] "France" "Japan" "United States" "France" ...</span></span>
<span><span class="co">#&gt;  $ gender                     : chr [1:200] "female" "female" "female" "female" ...</span></span>
<span><span class="co">#&gt;  $ still_alive                : chr [1:200] "deceased" "deceased" "deceased" "deceased" ...</span></span>
<span><span class="co">#&gt;  - attr(*, "spec")=</span></span>
<span><span class="co">#&gt;   .. cols(</span></span>
<span><span class="co">#&gt;   ..   rank = <span style="color: #00BB00;">col_double()</span>,</span></span>
<span><span class="co">#&gt;   ..   name = <span style="color: #BB0000;">col_character()</span>,</span></span>
<span><span class="co">#&gt;   ..   birth_date = <span style="color: #0000BB;">col_date(format = "")</span>,</span></span>
<span><span class="co">#&gt;   ..   death_date = <span style="color: #0000BB;">col_date(format = "")</span>,</span></span>
<span><span class="co">#&gt;   ..   age = <span style="color: #00BB00;">col_double()</span>,</span></span>
<span><span class="co">#&gt;   ..   place_of_death_or_residence = <span style="color: #BB0000;">col_character()</span>,</span></span>
<span><span class="co">#&gt;   ..   gender = <span style="color: #BB0000;">col_character()</span>,</span></span>
<span><span class="co">#&gt;   ..   still_alive = <span style="color: #BB0000;">col_character()</span></span></span>
<span><span class="co">#&gt;   .. )</span></span>
<span><span class="co">#&gt;  - attr(*, "problems")=&lt;externalptr&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-cleaning-and-wranggling">Data Cleaning and Wranggling<a class="anchor" aria-label="anchor" href="#data-cleaning-and-wranggling"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://forcats.tidyverse.org/" class="external-link">forcats</a></span><span class="op">)</span></span>
<span><span class="va">centenarians</span> <span class="op">&lt;-</span> <span class="va">centenarians</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>  country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">place_of_death_or_residence</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">gender</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"female"</span>, <span class="st">"male"</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  status <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">still_alive</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alive"</span>, <span class="st">"deceased"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">place_of_death_or_residence</span>, <span class="op">-</span><span class="va">gender</span>, <span class="op">-</span><span class="va">still_alive</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#used functions</span></span>
<span><span class="co">#factor(), mutate(), select()</span></span>
<span></span>
<span><span class="co">#use map_lgl() in purrr to check if these three newly created variables are factor indeed. </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_lgl</a></span><span class="op">(</span>.x <span class="op">=</span> <span class="va">centenarians</span>, .f <span class="op">=</span> <span class="va">is.factor</span><span class="op">)</span></span>
<span><span class="co">#&gt;       rank       name birth_date death_date        age    country        sex </span></span>
<span><span class="co">#&gt;      FALSE      FALSE      FALSE      FALSE      FALSE       TRUE       TRUE </span></span>
<span><span class="co">#&gt;     status </span></span>
<span><span class="co">#&gt;       TRUE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-analysis">Data Analysis<a class="anchor" aria-label="anchor" href="#data-analysis"></a>
</h2>
<div class="section level3">
<h3 id="life-expectancy-among-males-and-females">Life Expectancy among Males and Females<a class="anchor" aria-label="anchor" href="#life-expectancy-among-males-and-females"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">centenarians</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>mean_life_expectancy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 2</span></span></span>
<span><span class="co">#&gt;   sex    mean_life_expectancy</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> female                 116.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> male                   113.</span></span>
<span><span class="co">#used functions</span></span>
<span><span class="co">#group_by(), summarise(), n()</span></span></code></pre></div>
<p>The life expectancy among oldest females is higher than the life
expectancy among oldest males.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">age_sex</span> <span class="op">&lt;-</span> <span class="va">centenarians</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>mean_life_expectancy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">age_sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">age_sex</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">centenarians</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">sex</span>, y <span class="op">=</span> <span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">age_sex</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">mean_life_expectancy</span>, x <span class="op">=</span> <span class="va">sex</span><span class="op">)</span>, shape <span class="op">=</span> <span class="fl">18</span>, color <span class="op">=</span> <span class="st">"red"</span>, size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Life Expectancy by Sex"</span>, subtitle <span class="op">=</span> <span class="st">"The red diamond is the calculated mean life expectancy among these two group. We can see that\nwomen has a higher mean life expectancy than men. Also, in the upper 25 percentile, women also\n have a much higher life expectancy than men."</span>, y <span class="op">=</span> <span class="st">"Life Expectancy"</span>, caption <span class="op">=</span> <span class="st">"Meilin Zheng"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#function used </span></span>
<span><span class="co">#geom_boxplot(), geom_point()</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="life-expectancy-by-country">Life Expectancy by Country<a class="anchor" aria-label="anchor" href="#life-expectancy-by-country"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">centenarians</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>country_lump <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_lump.html" class="external-link">fct_lump</a></span><span class="op">(</span><span class="va">country</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">country_lump</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">total</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">total</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt;   country_lump   total</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> United States     66</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Japan             46</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> France             9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Italy              9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Spain              9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> United Kingdom     9</span></span>
<span></span>
<span><span class="co">#function used</span></span>
<span><span class="co">#fct_lump()</span></span></code></pre></div>
<p>The table above gives the t6 countries with highest number of oldest
people.</p>
<p>In the table above, we can see that among the 200 oldest people, 66
of them are from the United States, and 46 of them are from Japan.</p>
<p>By observing this table, it is still questionable whether United
States and Japan have the highest number of oldest people in the world.
The dataset may have a sampling bias that did not got to include oldest
adult from other places around the world.</p>
<p>However, we will still use these 6 countries for analysis since they
have larger amount of samples.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">centenarians_reduced</span> <span class="op">&lt;-</span> <span class="va">centenarians</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"United States"</span> <span class="op">|</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"Japan"</span> <span class="op">|</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"France"</span> <span class="op">|</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"Italy"</span> <span class="op">|</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"Spain"</span> <span class="op">|</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"United Kingdom"</span><span class="op">)</span></span>
<span><span class="co">#functions used</span></span>
<span><span class="co">#filter()</span></span>
<span><span class="va">centenarians_reduced</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>mean_life_expectancy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt;   country        mean_life_expectancy</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> France                         115.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Italy                          114.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Japan                          114.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Spain                          114.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> United Kingdom                 114.</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> United States                  114.</span></span></code></pre></div>
<p>Among these six countries, people from France have the highest life
expectancy.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">centenarians_reduced</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"red"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="va">country</span><span class="op">~</span><span class="va">.</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>data <span class="op">=</span> <span class="op">(</span><span class="va">centenarians_reduced</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>mean_age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">mean_age</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"green"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Histogram of Life Expectancy Distribution by Countries"</span>, x <span class="op">=</span> <span class="st">"Life Expectancy"</span>, subtitle <span class="op">=</span> <span class="st">"The dashed red line is the grand mean among these 6 countries, whereaes the dashed green line is the\nmean life expectancy within each country. We can see that France has a higher mean life expectancy\nthan the overal mean, while the United States, Japan, and Italy have a similar mean. Spain and the\nUnited Kingdom have a slightly lower mean life expectancy than the grand mean."</span>, caption <span class="op">=</span> <span class="st">"Meilin Zheng"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre></div>
<p><img src="Example_analysis_files/figure-html/unnamed-chunk-8-1.png" width="720"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#used function</span></span>
<span><span class="co">#geom_histogram(), geom_vline(), facet.wrap()</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="life-expectancy-by-birth-time">Life Expectancy by Birth Time<a class="anchor" aria-label="anchor" href="#life-expectancy-by-birth-time"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">centenarians_year</span> <span class="op">&lt;-</span> <span class="va">centenarians</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>Year <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">birth_date</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">#use mapping in purr to print out the unique birth year.</span></span>
<span><span class="va">unique_year</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dbl</a></span><span class="op">(</span>.x <span class="op">=</span> <span class="va">centenarians_year</span><span class="op">$</span><span class="va">Year</span>, .f <span class="op">=</span> <span class="va">unique_year</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1] 1875 1903 1880 1904 1900 1880 1900 1899 1901 1875 1898 1904 1889 1899 1898</span></span>
<span><span class="co">#&gt;  [16] 1905 1879 1905 1890 1896 1903 1907 1906 1901 1902 1907 1899 1905 1882 1897</span></span>
<span><span class="co">#&gt;  [31] 1903 1905 1877 1893 1882 1900 1878 1899 1894 1890 1904 1905 1891 1893 1902</span></span>
<span><span class="co">#&gt;  [46] 1908 1890 1906 1907 1871 1906 1890 1907 1887 1905 1886 1906 1897 1900 1896</span></span>
<span><span class="co">#&gt;  [61] 1884 1908 1907 1885 1895 1881 1908 1907 1896 1908 1903 1908 1895 1900 1901</span></span>
<span><span class="co">#&gt;  [76] 1890 1901 1889 1902 1903 1896 1896 1895 1880 1900 1900 1907 1893 1881 1882</span></span>
<span><span class="co">#&gt;  [91] 1890 1885 1907 1903 1905 1907 1873 1901 1896 1887 1897 1882 1891 1897 1896</span></span>
<span><span class="co">#&gt; [106] 1889 1906 1889 1905 1909 1890 1903 1884 1895 1889 1905 1880 1900 1903 1910</span></span>
<span><span class="co">#&gt; [121] 1906 1910 1885 1904 1896 1908 1907 1889 1909 1894 1903 1877 1906 1909 1896</span></span>
<span><span class="co">#&gt; [136] 1886 1881 1890 1909 1910 1888 1909 1904 1903 1876 1896 1894 1910 1909 1901</span></span>
<span><span class="co">#&gt; [151] 1907 1909 1907 1884 1908 1891 1891 1879 1906 1907 1902 1910 1896 1894 1905</span></span>
<span><span class="co">#&gt; [166] 1911 1901 1907 1910 1910 1856 1893 1888 1904 1889 1911 1878 1908 1908 1907</span></span>
<span><span class="co">#&gt; [181] 1875 1910 1881 1900 1908 1897 1908 1875 1911 1895 1909 1910 1895 1902 1893</span></span>
<span><span class="co">#&gt; [196] 1908 1909 1911 1911 1898</span></span>
<span><span class="co"># all of the 200 people in the dataset are born in different years.</span></span>
<span></span>
<span><span class="va">cor</span> <span class="op">&lt;-</span> <span class="va">centenarians_year</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">Year</span><span class="op">)</span></span>
<span><span class="va">cor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">cor</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/cor.mtest.html">cor.mtest</a></span><span class="op">(</span><span class="va">cor</span><span class="op">)</span></span>
<span><span class="co">#&gt; $p</span></span>
<span><span class="co">#&gt;             age       Year</span></span>
<span><span class="co">#&gt; age  0.00000000 0.01438442</span></span>
<span><span class="co">#&gt; Year 0.01438442 0.00000000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lowCI</span></span>
<span><span class="co">#&gt;             age       Year</span></span>
<span><span class="co">#&gt; age   1.0000000 -0.3042884</span></span>
<span><span class="co">#&gt; Year -0.3042884  1.0000000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $uppCI</span></span>
<span><span class="co">#&gt;              age        Year</span></span>
<span><span class="co">#&gt; age   1.00000000 -0.03494132</span></span>
<span><span class="co">#&gt; Year -0.03494132  1.00000000</span></span>
<span><span class="co">#used cor.mtest()</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/corrplot.html">corrplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">cor</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Example_analysis_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span></span>
<span><span class="co">#&gt; $corr</span></span>
<span><span class="co">#&gt;             age       Year</span></span>
<span><span class="co">#&gt; age   1.0000000 -0.1728444</span></span>
<span><span class="co">#&gt; Year -0.1728444  1.0000000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $corrPos</span></span>
<span><span class="co">#&gt;   xName yName x y       corr</span></span>
<span><span class="co">#&gt; 1   age   age 1 2  1.0000000</span></span>
<span><span class="co">#&gt; 2   age  Year 1 1 -0.1728444</span></span>
<span><span class="co">#&gt; 3  Year   age 2 2 -0.1728444</span></span>
<span><span class="co">#&gt; 4  Year  Year 2 1  1.0000000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $arg</span></span>
<span><span class="co">#&gt; $arg$type</span></span>
<span><span class="co">#&gt; [1] "full"</span></span>
<span><span class="co">#used corrplot()</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">centenarians_year_1900</span> <span class="op">&lt;-</span> <span class="va">centenarians_year</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Year</span> <span class="op">&lt;</span> <span class="fl">1900</span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">centenarians_year_1900</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Year</span>, y <span class="op">=</span> <span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Birth Year vs. Life Expectancy\nbefore 20th Century"</span>, subtitle <span class="op">=</span> <span class="st">"No obious association is observed between\nbirth time and age."</span>, caption <span class="op">=</span> <span class="st">"Meilin Zheng"</span>, y <span class="op">=</span> <span class="st">"Life Expectancy"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">110</span>, <span class="fl">125</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">centenarians_year_2000</span> <span class="op">&lt;-</span> <span class="va">centenarians_year</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Year</span> <span class="op">&gt;</span> <span class="fl">1900</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">centenarians_year_2000</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Year</span>, y <span class="op">=</span> <span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Birth Year vs. Life Expectancy\nafter 20th Century"</span>, subtitle <span class="op">=</span> <span class="st">"No obious association is observed between\nbirth time and age."</span>, caption <span class="op">=</span> <span class="st">"Meilin Zheng"</span>, y <span class="op">=</span> <span class="st">"Life Expectancy"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">110</span>, <span class="fl">125</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>In conclusion, we found that female have a higher life expectancy
than male. Also, developed countries such as the United States and Japan
seem to have more people with greater life expectancy. There is no
obvious association observed between the time the people were born and
their age.</p>
</div>
<div class="section level2">
<h2 id="functions-being-used">Functions being used<a class="anchor" aria-label="anchor" href="#functions-being-used"></a>
</h2>
<table class="table">
<colgroup>
<col width="44%">
<col width="55%">
</colgroup>
<thead><tr class="header">
<th>package</th>
<th>function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>dplyr</td>
<td>
<code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code>,
<code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code>, <code><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise()</a></code>
</td>
</tr>
<tr class="even">
<td>lubridate</td>
<td><code><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year()</a></code></td>
</tr>
<tr class="odd">
<td>forcats</td>
<td>
<code><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor()</a></code>, <code>factor_lump()</code>
</td>
</tr>
<tr class="even">
<td>purrr</td>
<td>
<code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_lgl()</a></code>, <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_dbl()</a></code>
</td>
</tr>
<tr class="odd">
<td>corrplot</td>
<td>
<code><a href="../reference/cor.mtest.html">cor.mtest()</a></code>, <code><a href="../reference/corrplot.html">corrplot()</a></code>
</td>
</tr>
<tr class="even">
<td>ggplot2</td>
<td>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline()</a></code>,
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram()</a></code>,
<code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap()</a></code>
</td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Taiyun Wei, Viliam Simko.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
