<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="A graphical display of a correlation matrix, confidence interval. The details
are paid great attention to. It can also visualize a general matrix by
setting is.corr = FALSE."><title>A visualization of a correlation matrix. — corrplot • corrplot</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A visualization of a correlation matrix. — corrplot"><meta property="og:description" content="A graphical display of a correlation matrix, confidence interval. The details
are paid great attention to. It can also visualize a general matrix by
setting is.corr = FALSE."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">corrplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.93</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/corrplot-intro.html">An Introduction to corrplot Package</a>
    <a class="dropdown-item" href="../articles/Example_analysis.html">Example_analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/An%20Introduction%20to%20corrplot%20Package.html">
    <span class="fa fa-question-circle-o"></span>
     
    Introduction
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/taiyun/corrplot">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>A visualization of a correlation matrix.</h1>
      <small class="dont-index">Source: <a href="https://github.com/taiyun/corrplot/blob/HEAD/R/corrplot.R" class="external-link"><code>R/corrplot.R</code></a></small>
      <div class="d-none name"><code>corrplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A graphical display of a correlation matrix, confidence interval. The details
are paid great attention to. It can also visualize a general matrix by
setting <code>is.corr = FALSE</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">corrplot</span><span class="op">(</span></span>
<span>  <span class="va">corr</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"circle"</span>, <span class="st">"square"</span>, <span class="st">"ellipse"</span>, <span class="st">"number"</span>, <span class="st">"shade"</span>, <span class="st">"color"</span>, <span class="st">"pie"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"full"</span>, <span class="st">"lower"</span>, <span class="st">"upper"</span><span class="op">)</span>,</span>
<span>  col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  col.lim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  is.corr <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  bg <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">""</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  diag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  outline <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  addgrid.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addCoef.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addCoefasPercent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"original"</span>, <span class="st">"AOE"</span>, <span class="st">"FPC"</span>, <span class="st">"hclust"</span>, <span class="st">"alphabet"</span><span class="op">)</span>,</span>
<span>  hclust.method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"complete"</span>, <span class="st">"ward"</span>, <span class="st">"ward.D"</span>, <span class="st">"ward.D2"</span>, <span class="st">"single"</span>, <span class="st">"average"</span>,</span>
<span>    <span class="st">"mcquitty"</span>, <span class="st">"median"</span>, <span class="st">"centroid"</span><span class="op">)</span>,</span>
<span>  addrect <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rect.col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  rect.lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  tl.pos <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tl.cex <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  tl.col <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>  tl.offset <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>  tl.srt <span class="op">=</span> <span class="fl">90</span>,</span>
<span>  cl.pos <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cl.length <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cl.cex <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  cl.ratio <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>  cl.align.text <span class="op">=</span> <span class="st">"c"</span>,</span>
<span>  cl.offset <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  number.cex <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  number.font <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  number.digits <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addshade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"negative"</span>, <span class="st">"positive"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>  shade.lwd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  shade.col <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  transKeepSign <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  p.mat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sig.level <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  insig <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pch"</span>, <span class="st">"p-value"</span>, <span class="st">"blank"</span>, <span class="st">"n"</span>, <span class="st">"label_sig"</span><span class="op">)</span>,</span>
<span>  pch <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  pch.col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  pch.cex <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  plotCI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"square"</span>, <span class="st">"circle"</span>, <span class="st">"rect"</span><span class="op">)</span>,</span>
<span>  lowCI.mat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  uppCI.mat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  na.label <span class="op">=</span> <span class="st">"?"</span>,</span>
<span>  na.label.col <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  win.asp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>corr</dt>
<dd><p>The correlation matrix to visualize, must be square if
<code>order</code> is not <code>'original'</code>. For general matrix, please using
<code>is.corr = FALSE</code> to convert.</p></dd>


<dt>method</dt>
<dd><p>Character, the visualization method of correlation matrix to be
  used. Currently, it supports seven methods, named <code>'circle'</code>
  (default), <code>'square'</code>, <code>'ellipse'</code>, <code>'number'</code>,
  <code>'pie'</code>, <code>'shade'</code> and <code>'color'</code>. See examples for details.</p>
<p>The areas of circles or squares show the absolute value of corresponding
  correlation coefficients. Method <code>'pie'</code> and <code>'shade'</code> came from
  Michael Friendly's job (with some adjustment about the shade added on), and
  <code>'ellipse'</code> came from D.J. Murdoch and E.D. Chow's job, see in section
  References.</p></dd>


<dt>type</dt>
<dd><p>Character, <code>'full'</code> (default), <code>'upper'</code> or
<code>'lower'</code>, display full matrix, lower triangular or upper triangular
matrix.</p></dd>


<dt>col</dt>
<dd><p>Vector, the colors of glyphs. They are distributed uniformly in
<code>col.lim</code> interval.
If <code>is.corr</code> is <code>TRUE</code>, the default value will be <code>COL2('RdBu', 200)</code>.
If <code>is.corr</code> is <code>FALSE</code> and <code>corr</code> is a non-negative or non-positive matrix,
the default value will be <code>COL1('YlOrBr', 200)</code>;
otherwise (elements are partly positive and partly negative),
the default value will be <code>COL2('RdBu', 200)</code>.</p></dd>


<dt>col.lim</dt>
<dd><p>The limits <code>(x1, x2)</code> interval for assigning color by
  <code>col</code>. If <code>NULL</code>,
  <code>col.lim</code> will be <code>c(-1, 1)</code> when <code>is.corr</code> is  <code>TRUE</code>,
  <code>col.lim</code> will be <code>c(min(corr), max(corr))</code> when <code>is.corr</code>
  is <code>FALSE</code></p>
<p>NOTICE: if you set <code>col.lim</code> when <code>is.corr</code> is <code>TRUE</code>, the assigning colors
  are still distributed uniformly in [-1, 1], it only affect the display
  on color-legend.</p></dd>


<dt>is.corr</dt>
<dd><p>Logical, whether the input matrix is a correlation matrix or
not. We can visualize the non-correlation matrix by setting
<code>is.corr = FALSE</code>.</p></dd>


<dt>bg</dt>
<dd><p>The background color.</p></dd>


<dt>title</dt>
<dd><p>Character, title of the graph.</p></dd>


<dt>add</dt>
<dd><p>Logical, if <code>TRUE</code>, the graph is added to an existing plot,
otherwise a new plot will be created.</p></dd>


<dt>diag</dt>
<dd><p>Logical, whether display the correlation coefficients on the
principal diagonal.</p></dd>


<dt>outline</dt>
<dd><p>Logical or character, whether plot outline of circles, square
and ellipse, or the color of these glyphs. For pie, this represents the
color of the circle outlining the pie. If <code>outline</code> is <code>TRUE</code>,
the default value is <code>'black'</code>.</p></dd>


<dt>mar</dt>
<dd><p>See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt>addgrid.col</dt>
<dd><p>The color of the grid. If <code>NA</code>, don't add grid. If
<code>NULL</code> the default value is chosen. The default value depends on
<code>method</code>, if <code>method</code> is <code>color</code> or <code>shade</code>, the color
of the grid is <code>NA</code>, that is, not draw grid; otherwise <code>'grey'</code>.</p></dd>


<dt>addCoef.col</dt>
<dd><p>Color of coefficients added on the graph. If <code>NULL</code>
(default), add no coefficients.</p></dd>


<dt>addCoefasPercent</dt>
<dd><p>Logic, whether translate coefficients into percentage
style for spacesaving.</p></dd>


<dt>order</dt>
<dd><p>Character, the ordering method of the correlation matrix.</p><ul><li><p><code>'original'</code> for original order (default).</p></li>
<li><p><code>'AOE'</code> for the angular order of the eigenvectors.</p></li>
<li><p><code>'FPC'</code> for the first principal component order.</p></li>
<li><p><code>'hclust'</code> for the hierarchical clustering order.</p></li>
<li><p><code>'alphabet'</code> for alphabetical order.</p></li>
</ul><p>See function <code><a href="corrMatOrder.html">corrMatOrder</a></code> for details.</p></dd>


<dt>hclust.method</dt>
<dd><p>Character, the agglomeration method to be used when
<code>order</code> is <code><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">hclust</a></code>. This should be one of <code>'ward'</code>,
<code>'ward.D'</code>, <code>'ward.D2'</code>, <code>'single'</code>, <code>'complete'</code>,
<code>'average'</code>, <code>'mcquitty'</code>, <code>'median'</code> or <code>'centroid'</code>.</p></dd>


<dt>addrect</dt>
<dd><p>Integer, the number of rectangles draws on the graph according
to the hierarchical cluster, only valid when <code>order</code> is <code>hclust</code>.
If <code>NULL</code> (default), then add no rectangles.</p></dd>


<dt>rect.col</dt>
<dd><p>Color for rectangle border(s), only valid when <code>addrect</code>
is equal or greater than 1.</p></dd>


<dt>rect.lwd</dt>
<dd><p>Numeric, line width for borders for rectangle border(s), only
valid when <code>addrect</code> is equal or greater than 1.</p></dd>


<dt>tl.pos</dt>
<dd><p>Character or logical, position of text labels. If character, it
must be one of <code>'lt'</code>, <code>'ld'</code>, <code>'td'</code>, <code>'d'</code> or
<code>'n'</code>. <code>'lt'</code>(default if <code>type=='full'</code>) means left and top,
<code>'ld'</code>(default if <code>type=='lower'</code>) means left and diagonal,
<code>'td'</code>(default if <code>type=='upper'</code>) means top and diagonal(near),
<code>'l'</code> means left,
<code>'d'</code> means diagonal, <code>'n'</code> means don't add text-label.</p></dd>


<dt>tl.cex</dt>
<dd><p>Numeric, for the size of text label (variable names).</p></dd>


<dt>tl.col</dt>
<dd><p>The color of text label.</p></dd>


<dt>tl.offset</dt>
<dd><p>Numeric, for text label, see <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code>.</p></dd>


<dt>tl.srt</dt>
<dd><p>Numeric, for text label string rotation in degrees, see
<code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code>.</p></dd>


<dt>cl.pos</dt>
<dd><p>Character or logical, position of color-legend; If character,
it must be one of <code>'r'</code> (default if <code>type=='upper'</code> or
<code>'full'</code>), <code>'b'</code> (default if <code>type=='lower'</code>) or <code>'n'</code>,
<code>'n'</code> means don't draw color-legend.</p></dd>


<dt>cl.length</dt>
<dd><p>Integer, the number of number-text in color-legend, passed to
<code><a href="colorlegend.html">colorlegend</a></code>. If <code>NULL</code>, <code>cl.length</code> is
<code>length(col) + 1</code> when <code>length(col) &lt;=20</code>; <code>cl.length</code> is 11
when <code>length(col) &gt; 20</code></p></dd>


<dt>cl.cex</dt>
<dd><p>Numeric, cex of number-label in color-legend,  passed to
<code><a href="colorlegend.html">colorlegend</a></code>.</p></dd>


<dt>cl.ratio</dt>
<dd><p>Numeric, to justify the width of color-legend, 0.1~0.2 is
suggested.</p></dd>


<dt>cl.align.text</dt>
<dd><p>Character, <code>'l'</code>, <code>'c'</code> (default) or
<code>'r'</code>, for number-label in color-legend, <code>'l'</code> means left,
<code>'c'</code> means center, and <code>'r'</code> means right.</p></dd>


<dt>cl.offset</dt>
<dd><p>Numeric, for number-label in color-legend, see
<code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code>.</p></dd>


<dt>number.cex</dt>
<dd><p>The <code>cex</code> parameter to send to the call to <code>text</code>
when writing the correlation coefficients into the plot.</p></dd>


<dt>number.font</dt>
<dd><p>the <code>font</code> parameter to send to the call to
<code>text</code> when writing the correlation coefficients into the plot.</p></dd>


<dt>number.digits</dt>
<dd><p>indicating the number of decimal digits to be
added into the plot. Non-negative integer or NULL, default NULL.</p></dd>


<dt>addshade</dt>
<dd><p>Character for shade style, <code>'negative'</code>,
<code>'positive'</code> or <code>'all'</code>, only valid when <code>method</code> is
<code>'shade'</code>. If <code>'all'</code>, all correlation coefficients' glyph will
be shaded; if <code>'positive'</code>, only the positive will be shaded; if
<code>'negative'</code>, only the negative will be shaded. Note: the angle of
shade line is different, 45 degrees for positive and 135 degrees for
negative.</p></dd>


<dt>shade.lwd</dt>
<dd><p>Numeric, the line width of shade.</p></dd>


<dt>shade.col</dt>
<dd><p>The color of shade line.</p></dd>


<dt>transKeepSign</dt>
<dd><p>Logical, whether or not to keep matrix values' sign when
  transforming non-corr matrix for plotting.
  Only valid when <code>is.corr = FALSE</code>. The default value is <code>TRUE</code>.</p>
<p>NOTE: If <code>FALSE</code>,the non-corr matrix will be</p></dd>


<dt>p.mat</dt>
<dd><p>Matrix of p-value, if <code>NULL</code>, parameter <code>sig.level</code>,
<code>insig</code>, <code>pch</code>, <code>pch.col</code>, <code>pch.cex</code> are invalid.</p></dd>


<dt>sig.level</dt>
<dd><p>Significant level,  if the p-value in <code>p-mat</code> is bigger
than <code>sig.level</code>, then the corresponding correlation coefficient is
regarded as insignificant. If <code>insig</code> is <code>'label_sig'</code>, this may
be an increasing vector of significance levels, in which case <code>pch</code>
will be used once for the highest p-value interval and multiple times
(e.g. '*', '**', '***') for each lower p-value interval.</p></dd>


<dt>insig</dt>
<dd><p>Character, specialized insignificant correlation coefficients,
<code>'pch'</code> (default), <code>'p-value'</code>, <code>'blank'</code>, <code>'n'</code>, or
<code>'label_sig'</code>. If <code>'blank'</code>, wipe away the corresponding glyphs;
if <code>'p-value'</code>, add p-values the corresponding glyphs;
if <code>'pch'</code>, add characters (see <code>pch</code> for details) on
corresponding glyphs; if <code>'n'</code>, don't take any measures; if
<code>'label_sig'</code>, mark significant correlations with pch
(see <code>sig.level</code>).</p></dd>


<dt>pch</dt>
<dd><p>Add character on the glyphs of insignificant correlation
coefficients(only valid when <code>insig</code> is <code>'pch'</code>). See
<code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt>pch.col</dt>
<dd><p>The color of pch (only valid when <code>insig</code> is
<code>'pch'</code>).</p></dd>


<dt>pch.cex</dt>
<dd><p>The cex of pch (only valid when <code>insig</code> is <code>'pch'</code>).</p></dd>


<dt>plotCI</dt>
<dd><p>Character, method of ploting confidence interval. If
<code>'n'</code>, don't plot confidence interval. If 'rect', plot rectangles
whose upper side means upper bound and lower side means lower bound,
respectively. If 'circle', first plot a circle with the bigger absolute
bound, and then plot the smaller. Warning: if the two bounds are the same
sign, the smaller circle will be wiped away, thus forming a ring. Method
'square' is similar to 'circle'.</p></dd>


<dt>lowCI.mat</dt>
<dd><p>Matrix of the lower bound of confidence interval.</p></dd>


<dt>uppCI.mat</dt>
<dd><p>Matrix of the upper bound of confidence interval.</p></dd>


<dt>na.label</dt>
<dd><p>Label to be used for rendering <code>NA</code> cells. Default is
<code>'?'</code>. If 'square', then the cell is rendered as a square with the
<code>na.label.col</code> color.</p></dd>


<dt>na.label.col</dt>
<dd><p>Color used for rendering <code>NA</code> cells. Default is
<code>'black'</code>.</p></dd>


<dt>win.asp</dt>
<dd><p>Aspect ration for the whole plot. Value other than 1 is
currently compatible only with methods 'circle' and 'square'.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passing to function <code>text</code> for drawing
text label.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>(Invisibly) returns a <code>list(corr, corrTrans, arg)</code>.
<code>corr</code> is a reordered correlation matrix for plotting.
<code>corrPos</code> is a data frame with <code>xName, yName, x, y, corr</code> and
<code>p.value</code>(if p.mat is not NULL)
column, which x and y are the position on the correlation matrix plot.
<code>arg</code> is a list of some corrplot() input parameters' value.
Now <code>type</code> is in.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>corrplot</code> function offers flexible ways to visualize
  correlation matrix, lower and upper bound of confidence interval matrix.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p><code>Cairo</code> and <code>cairoDevice</code> packages is strongly recommended to
  produce high-quality PNG, JPEG, TIFF bitmap files, especially for that
  <code>method</code> <code>circle</code>, <code>ellipse</code>.</p>
<p>Row- and column names of the input matrix are used as labels rendered
  in the corrplot. Plothmath expressions will be used if the name is prefixed
  by one of the following characters: <code>:</code>, <code>=</code> or <code>$</code>.
  For example <code>':alpha + beta'</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Michael Friendly (2002).
<em>Corrgrams: Exploratory displays for correlation matrices</em>.
The American Statistician, 56, 316--324.</p>
<p>D.J. Murdoch, E.D. Chow (1996).
<em>A graphical display of large correlation matrices</em>.
The American Statistician, 50, 178--180.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Function <code>plotcorr</code>  in the <code>ellipse</code> package and
  <code>corrgram</code>  in the <code>corrgram</code> package have some similarities.</p>
<p>Package <code>seriation</code> offered more methods to reorder matrices, such as
  ARSA, BBURCG, BBWRCG, MDS, TSP, Chen and so forth.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Taiyun Wei (weitaiyun@gmail.com)</p>
<p>Viliam Simko (viliam.simko@gmail.com)</p>
<p>Michael Levy (michael.levy@healthcatalyst.com)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##  different color series</span></span></span>
<span class="r-in"><span><span class="co">## COL2: Get diverging colors</span></span></span>
<span class="r-in"><span><span class="co">## c('RdBu', 'BrBG', 'PiYG', 'PRGn', 'PuOr', 'RdYlBu')</span></span></span>
<span class="r-in"><span><span class="co">## COL1: Get sequential colors</span></span></span>
<span class="r-in"><span><span class="co">## c('Oranges', 'Purples', 'Reds', 'Blues', 'Greens', 'Greys', 'OrRd', 'YlOrRd', 'YlOrBr', 'YlGn')</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wb</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'white'</span>, <span class="st">'black'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>ask <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## different color scale and methods to display corr-matrix</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, method <span class="op">=</span> <span class="st">'number'</span>, col <span class="op">=</span> <span class="st">'black'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, method <span class="op">=</span> <span class="st">'number'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, addCoef.col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,  cl.length <span class="op">=</span> <span class="fl">21</span>, addCoef.col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">10</span><span class="op">)</span>, addCoef.col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span><span class="st">'PiYG'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span><span class="st">'PRGn'</span><span class="op">)</span>, addCoef.col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span><span class="st">'PuOr'</span>, <span class="fl">20</span><span class="op">)</span>, cl.length <span class="op">=</span> <span class="fl">21</span>, addCoef.col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span><span class="st">'PuOr'</span>, <span class="fl">10</span><span class="op">)</span>, addCoef.col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-11.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span><span class="st">'RdYlBu'</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-12.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span><span class="st">'RdYlBu'</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-13.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, method <span class="op">=</span> <span class="st">'color'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">20</span><span class="op">)</span>, cl.length <span class="op">=</span> <span class="fl">21</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         addCoef.col <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-14.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, method <span class="op">=</span> <span class="st">'square'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">200</span><span class="op">)</span>, order <span class="op">=</span> <span class="st">'AOE'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-15.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, method <span class="op">=</span> <span class="st">'ellipse'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">200</span><span class="op">)</span>, order <span class="op">=</span> <span class="st">'AOE'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-16.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, method <span class="op">=</span> <span class="st">'shade'</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">20</span><span class="op">)</span>, order <span class="op">=</span> <span class="st">'AOE'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-17.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, method <span class="op">=</span> <span class="st">'pie'</span>, order <span class="op">=</span> <span class="st">'AOE'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-18.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## col = wb</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, col <span class="op">=</span> <span class="va">wb</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, outline <span class="op">=</span> <span class="cn">TRUE</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-19.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## like Chinese wiqi, suit for either on screen or white-black print.</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, col <span class="op">=</span> <span class="va">wb</span>, bg <span class="op">=</span> <span class="st">'gold2'</span>,  order <span class="op">=</span> <span class="st">'AOE'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-20.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## mixed methods: It's more efficient if using function 'corrplot.mixed'</span></span></span>
<span class="r-in"><span><span class="co">## circle + ellipse</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'upper'</span>, tl.pos <span class="op">=</span> <span class="st">'d'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">'lower'</span>, method <span class="op">=</span> <span class="st">'ellipse'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         diag <span class="op">=</span> <span class="cn">FALSE</span>, tl.pos <span class="op">=</span> <span class="st">'n'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-21.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## circle + square</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'upper'</span>, tl.pos <span class="op">=</span> <span class="st">'d'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">'lower'</span>, method <span class="op">=</span> <span class="st">'square'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         diag <span class="op">=</span> <span class="cn">FALSE</span>, tl.pos <span class="op">=</span> <span class="st">'n'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-22.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## circle + colorful number</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'upper'</span>, tl.pos <span class="op">=</span> <span class="st">'d'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">'lower'</span>, method <span class="op">=</span> <span class="st">'number'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         diag <span class="op">=</span> <span class="cn">FALSE</span>, tl.pos <span class="op">=</span> <span class="st">'n'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-23.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## circle + black number</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'upper'</span>, tl.pos <span class="op">=</span> <span class="st">'tp'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">'lower'</span>, method <span class="op">=</span> <span class="st">'number'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         col <span class="op">=</span> <span class="st">'black'</span>, diag <span class="op">=</span> <span class="cn">FALSE</span>, tl.pos <span class="op">=</span> <span class="st">'n'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-24.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## order is hclust and draw rectangles</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'hclust'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-25.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'hclust'</span>, addrect <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-26.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'hclust'</span>, addrect <span class="op">=</span> <span class="fl">3</span>, rect.col <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-27.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'hclust'</span>, addrect <span class="op">=</span> <span class="fl">4</span>, rect.col <span class="op">=</span> <span class="st">'blue'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-28.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'hclust'</span>, hclust.method <span class="op">=</span> <span class="st">'ward.D2'</span>, addrect <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-29.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## visualize a  matrix in [0, 1]</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-30.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>,  col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-31.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># when is.corr=TRUE, col.lim only affect the color legend</span></span></span>
<span class="r-in"><span><span class="co"># If you change it, the color is still assigned on [-1, 1]</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-32.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">/</span><span class="fl">2</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-33.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># when is.corr=FALSE, col.lim is also used to assign colors</span></span></span>
<span class="r-in"><span><span class="co"># if the matrix have both positive and negative values</span></span></span>
<span class="r-in"><span><span class="co"># the matrix transformation keep every values positive and negative</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">*</span><span class="fl">2</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-34.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">*</span><span class="fl">2</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">*</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>col.lim interval too wide, please set a suitable value</span>
<span class="r-plt img"><img src="corrplot-35.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">*</span><span class="fl">2</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">*</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>col.lim interval too wide, please set a suitable value</span>
<span class="r-plt img"><img src="corrplot-36.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## 0.5~0.6</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span><span class="op">/</span><span class="fl">10</span><span class="op">+</span><span class="fl">0.5</span>, col <span class="op">=</span> <span class="fu"><a href="col1.html">COL1</a></span><span class="op">(</span><span class="st">'Greens'</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-37.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span><span class="op">/</span><span class="fl">10</span><span class="op">+</span><span class="fl">0.5</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.6</span><span class="op">)</span>, col <span class="op">=</span> <span class="fu"><a href="col1.html">COL1</a></span><span class="op">(</span><span class="st">'YlGn'</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-38.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## visualize a  matrix in [-100, 100]</span></span></span>
<span class="r-in"><span><span class="va">ran</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">225</span>, <span class="op">-</span><span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">ran</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-39.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">ran</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-40.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## visualize a matrix in [100, 300]</span></span></span>
<span class="r-in"><span><span class="va">ran2</span> <span class="op">=</span> <span class="va">ran</span> <span class="op">+</span> <span class="fl">200</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># bad color, not suitable for a matrix in [100, 300]</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">ran2</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">300</span><span class="op">)</span>, col <span class="op">=</span> <span class="fu"><a href="col2.html">COL2</a></span><span class="op">(</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-41.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># good color</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">ran2</span>, is.corr <span class="op">=</span> <span class="cn">FALSE</span>, col.lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">300</span><span class="op">)</span>, col <span class="op">=</span> <span class="fu"><a href="col1.html">COL1</a></span><span class="op">(</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-42.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## text-labels and plot type</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, tl.srt <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-43.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, tl.srt <span class="op">=</span> <span class="fl">60</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-44.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, tl.pos <span class="op">=</span> <span class="st">'d'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-45.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, diag <span class="op">=</span> <span class="cn">FALSE</span>, tl.pos <span class="op">=</span> <span class="st">'d'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-46.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'upper'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-47.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'upper'</span>, diag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-48.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'lower'</span>, cl.pos <span class="op">=</span> <span class="st">'b'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-49.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, type <span class="op">=</span> <span class="st">'lower'</span>, cl.pos <span class="op">=</span> <span class="st">'b'</span>, diag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-50.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### color-legend</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, cl.ratio <span class="op">=</span> <span class="fl">0.2</span>, cl.align <span class="op">=</span> <span class="st">'l'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-51.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, cl.ratio <span class="op">=</span> <span class="fl">0.2</span>, cl.align <span class="op">=</span> <span class="st">'c'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-52.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, cl.ratio <span class="op">=</span> <span class="fl">0.2</span>, cl.align <span class="op">=</span> <span class="st">'r'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-53.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, cl.pos <span class="op">=</span> <span class="st">'b'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-54.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, cl.pos <span class="op">=</span> <span class="st">'b'</span>, tl.pos <span class="op">=</span> <span class="st">'d'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-55.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-56.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## deal with missing Values</span></span></span>
<span class="r-in"><span><span class="va">M2</span> <span class="op">=</span> <span class="va">M</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">M2</span><span class="op">)</span> <span class="op">=</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-57.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M2</span>, na.label <span class="op">=</span> <span class="st">'o'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-58.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M2</span>, na.label <span class="op">=</span> <span class="st">'NA'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-59.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##the input matrix is not square</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-60.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-61.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">testRes</span> <span class="op">=</span> <span class="fu"><a href="cor.mtest.html">cor.mtest</a></span><span class="op">(</span><span class="va">mtcars</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## specialized the insignificant value according to the significant level</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">p</span>, sig.level <span class="op">=</span> <span class="fl">0.05</span>, order <span class="op">=</span> <span class="st">'hclust'</span>, addrect <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-62.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## leave blank on no significant coefficient</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">p</span>, method <span class="op">=</span> <span class="st">'circle'</span>, type <span class="op">=</span> <span class="st">'lower'</span>, insig <span class="op">=</span><span class="st">'blank'</span>,</span></span>
<span class="r-in"><span>         addCoef.col <span class="op">=</span><span class="st">'black'</span>, number.cex <span class="op">=</span> <span class="fl">0.8</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, diag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-63.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## add p-values on no significant coefficients</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">p</span>, insig <span class="op">=</span> <span class="st">'p-value'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-64.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## add all p-values</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">p</span>, insig <span class="op">=</span> <span class="st">'p-value'</span>, sig.level <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-65.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## add significant level stars</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">p</span>, method <span class="op">=</span> <span class="st">'color'</span>, diag <span class="op">=</span> <span class="cn">FALSE</span>, type <span class="op">=</span> <span class="st">'upper'</span>,</span></span>
<span class="r-in"><span>         sig.level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span><span class="op">)</span>, pch.cex <span class="op">=</span> <span class="fl">0.9</span>,</span></span>
<span class="r-in"><span>         insig <span class="op">=</span> <span class="st">'label_sig'</span>, pch.col <span class="op">=</span> <span class="st">'grey20'</span>, order <span class="op">=</span> <span class="st">'AOE'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-66.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## add significant level stars and cluster rectangles</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">p</span>, tl.pos <span class="op">=</span> <span class="st">'d'</span>, order <span class="op">=</span> <span class="st">'hclust'</span>, addrect <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>         insig <span class="op">=</span> <span class="st">'label_sig'</span>, sig.level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>         pch.cex <span class="op">=</span> <span class="fl">0.9</span>, pch.col <span class="op">=</span> <span class="st">'grey20'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-67.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Visualize confidence interval</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, lowCI <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">lowCI</span>, uppCI <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">uppCI</span>, order <span class="op">=</span> <span class="st">'hclust'</span>,</span></span>
<span class="r-in"><span>         tl.pos <span class="op">=</span> <span class="st">'d'</span>, rect.col <span class="op">=</span> <span class="st">'navy'</span>, plotC <span class="op">=</span> <span class="st">'rect'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-68.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Visualize confidence interval and cross the significant coefficients</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">p</span>, lowCI <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">lowCI</span>, uppCI <span class="op">=</span> <span class="va">testRes</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         addrect <span class="op">=</span> <span class="fl">3</span>, rect.col <span class="op">=</span> <span class="st">'navy'</span>, plotC <span class="op">=</span> <span class="st">'rect'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-69.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res1</span> <span class="op">=</span> <span class="fu"><a href="cor.mtest.html">cor.mtest</a></span><span class="op">(</span><span class="va">mtcars</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">=</span> <span class="fu"><a href="cor.mtest.html">cor.mtest</a></span><span class="op">(</span><span class="va">mtcars</span>, conf.level <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## plot confidence interval(0.95), 'circle' method</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         plotCI <span class="op">=</span> <span class="st">'circle'</span>, addg <span class="op">=</span> <span class="st">'grey20'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-70.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">p</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         plotCI <span class="op">=</span> <span class="st">'circle'</span>, addg <span class="op">=</span> <span class="st">'grey20'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-71.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'white'</span>, <span class="st">'black'</span><span class="op">)</span>, bg <span class="op">=</span> <span class="st">'gold2'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         plotCI <span class="op">=</span> <span class="st">'circle'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span>, pch.col <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-72.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">p</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'white'</span>, <span class="st">'black'</span><span class="op">)</span>, bg <span class="op">=</span> <span class="st">'gold2'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         plotCI <span class="op">=</span> <span class="st">'circle'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span>, pch.col <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-73.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## plot confidence interval(0.95), 'square' method</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'white'</span>, <span class="st">'black'</span><span class="op">)</span>, bg <span class="op">=</span> <span class="st">'gold2'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>,</span></span>
<span class="r-in"><span>         plotCI <span class="op">=</span> <span class="st">'square'</span>, addg <span class="op">=</span> <span class="cn">NULL</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-74.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">p</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'white'</span>, <span class="st">'black'</span><span class="op">)</span>, bg <span class="op">=</span> <span class="st">'gold2'</span>, order <span class="op">=</span> <span class="st">'AOE'</span>, pch.col <span class="op">=</span> <span class="st">'red'</span>,</span></span>
<span class="r-in"><span>         plotCI <span class="op">=</span> <span class="st">'square'</span>, addg <span class="op">=</span> <span class="cn">NULL</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-75.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## plot confidence interval0.95, 0.95, 0.99, 'rect' method</span></span></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>, order <span class="op">=</span> <span class="st">'hclust'</span>,</span></span>
<span class="r-in"><span>         rect.col <span class="op">=</span> <span class="st">'navy'</span>, plotCI <span class="op">=</span> <span class="st">'rect'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-76.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">p</span>, low <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res1</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         order <span class="op">=</span> <span class="st">'hclust'</span>, pch.col <span class="op">=</span> <span class="st">'red'</span>, sig.level <span class="op">=</span> <span class="fl">0.05</span>, addrect <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>         rect.col <span class="op">=</span> <span class="st">'navy'</span>, plotCI <span class="op">=</span> <span class="st">'rect'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-77.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">res2</span><span class="op">$</span><span class="va">p</span>, low <span class="op">=</span> <span class="va">res2</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">res2</span><span class="op">$</span><span class="va">uppCI</span>,</span></span>
<span class="r-in"><span>         order <span class="op">=</span> <span class="st">'hclust'</span>, pch.col <span class="op">=</span> <span class="st">'red'</span>, sig.level <span class="op">=</span> <span class="fl">0.01</span>, addrect <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>         rect.col <span class="op">=</span> <span class="st">'navy'</span>, plotCI <span class="op">=</span> <span class="st">'rect'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="corrplot-78.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## an animation of changing confidence interval in different significance level</span></span></span>
<span class="r-in"><span><span class="co">## begin.animaton</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>ask <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">0.005</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">tmp</span> <span class="op">=</span> <span class="fu"><a href="cor.mtest.html">cor.mtest</a></span><span class="op">(</span><span class="va">mtcars</span>, conf.level <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">i</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">corrplot</span><span class="op">(</span><span class="va">M</span>, p.mat <span class="op">=</span> <span class="va">tmp</span><span class="op">$</span><span class="va">p</span>, low <span class="op">=</span> <span class="va">tmp</span><span class="op">$</span><span class="va">lowCI</span>, upp <span class="op">=</span> <span class="va">tmp</span><span class="op">$</span><span class="va">uppCI</span>, order <span class="op">=</span> <span class="st">'hclust'</span>,</span></span>
<span class="r-in"><span>           pch.col <span class="op">=</span> <span class="st">'red'</span>, sig.level <span class="op">=</span> <span class="va">i</span>, plotCI <span class="op">=</span> <span class="st">'rect'</span>, cl.pos <span class="op">=</span> <span class="st">'n'</span>,</span></span>
<span class="r-in"><span>           mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="va">alpha</span> <span class="op">==</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>                              <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">i</span>, digits <span class="op">=</span> <span class="fl">3</span>, nsmall <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep</a></span><span class="op">(</span><span class="fl">0.15</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="corrplot-79.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-80.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-81.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-82.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-83.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-84.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-85.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-86.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-87.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-88.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-89.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-90.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-91.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-92.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-93.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-94.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-95.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-96.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-97.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-98.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="corrplot-99.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">## end.animaton</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Taiyun Wei, Viliam Simko.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

